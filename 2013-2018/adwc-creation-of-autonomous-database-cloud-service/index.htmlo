This was first published on <a href=https://blog.dbi-services.com/adwc-creation-of-autonomous-database-cloud-service>https://blog.dbi-services.com/adwc-creation-of-autonomous-database-cloud-service</a> (2018-05-01)
								<h1 class="entry-title">ADWC: Creation of Autonomous Data Warehouse Cloud service</h1>
		<div class="content-inner">
			
						
						
		   
			<p>You want to try the Autonomous Data Warehouse Cloud Service? That&#8217;s easy. Here is a Step-by-Step.</p>
<h3>Cloud Credits</h3>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIcredits.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIcredits-300x175.png" alt="CaptureOCIcredits" width="300" height="175" class="alignright size-medium wp-image-22814" /></a>
First, you need Cloud Credits. You may have bought them (any recent negotiation with Oracle Sales, even for on-premises, involves some Cloud Credits). You can have a free trial with 300$ Cloud Credits available for 1 month. To get another month, you need a different e-mail address and different Credit Card number (not charged). It is quite easy to have different e-mail addresses and your bank may provide virtual credit card where the number changes each time. Or you may have the 5000$ Cloud Credits available for 1 year from the Education program. I got those thanks to ACE Director program.</p>
<p><strong>Update 01-MAY-2018</strong> &#8211; There&#8217;s also the 500$ credits from the &#8220;white glove&#8221; program &#8211; you can ask to your Sales representative</p>
<p>In all cases you will be able to test the service without spending too much credits because:</p>
<ul>
<li>This service is not expensive ($2.5 per OCPU per Hour in Pay As You Go)</li>
<li>It is very easy to start and stop the service, and then pay only for the hours where you connect</li>
<li>If you choose &#8216;Bring You Own License&#8217; in the creation, the per OCPU per Hour is only $0.48 (but be sure that you have covered
See <a href="https://cloud.oracle.com/en_US/datawarehouse/pricing" target="_blank">https://cloud.oracle.com/en_US/datawarehouse/pricing</a>)</li>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/Capturebilling.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/Capturebilling-300x80.png" alt="Capturebilling" width="300" height="80" class="alignright size-medium wp-image-22851" /></a></p>
<li>And finally, during the trial promotion, the credits are consumed at discounted rate
(after 9 hours of usage, I got less than 1$ used)</li>
</ul>
<h3>OCI Account</h3>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIaccount.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIaccount-300x149.png" alt="CaptureOCIaccount" width="300" height="149" class="alignright size-medium wp-image-22809" /></a>
The first generation of Oracle Cloud, is now called &#8216;OCI Classic&#8217;, and you distinguish it when connecting as the Sign-In page mentions &#8216;Traditional Cloud Account&#8217;. You cannot access to ADWC with this account. </p>
<p>You need an access to the OCI (Oracle Cloud Infrastructure &#8211; the version 2 of Oracle Cloud).
If, when Sign-In, you are welcomed by this guy looking at his phone, you are at the right place. I&#8217;m always curious about how they choose an image for a page used every day and for several years. The oracle.com login page is easy with the headquarters blurry shot. For the OCI account, they choose the &#8220;Man On Smart Phone &#8211; Young Business Man Texting In Airport &#8211; Casual Urban Professional Businessman Using Smartphone App Smiling Happy Inside Office Building Or Airport&#8221; from the <a href="https://stock.adobe.com/hk/images/man-on-smart-phone-young-business-man-texting-in-airport-casual-urban-professional-businessman-using-smartphone-app-smiling-happy-inside-office-building-or-airport/126191931" target="_blank">Adobe image stock</a>.</p>
<h3>Ashburn</h3>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIregion.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIregion-300x93.png" alt="CaptureOCIregion" width="300" height="93" class="alignright size-medium wp-image-22812" /></a>
For the moment, the ADWC service is available only in the Ashburn Cloud Center. Not yet in Europe (but planned for Frankfurt). You can see the regions here: <a href="https://cloud.oracle.com/data-regions">https://cloud.oracle.com/data-regions</a>. Then, when you receive your access to the Oracle Cloud Services, chose the Ashburn Data Center.</p>
<p><strong>Update 01-MAY-2018</strong> &#8211; It seems that the service is available in Frankfurt.</p>
<h3>Create Instance</h3>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIcreate.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIcreate-300x153.png" alt="CaptureOCIcreate" width="300" height="153" class="alignleft size-medium wp-image-22823" /></a><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIcreate21.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIcreate21-300x142.png" alt="CaptureOCIcreate2" width="300" height="142" class="alignright size-medium wp-image-22825" /></a>
The instance creation is easy and fast. It will create a Pluggable Database (PDB) in the Oracle Cloud CDB. You provide a name, and ADMIN password (be careful, rule is at least 12 characters) which is the password you&#8217;ll use to connect as the ADMIN user. You can change it later and add new users. The Shape is different from the DBaaS here. You define the number of threads you want to use (it actually sets the CPU_COUNT for the PDB) and the size of PDB datafiles. You can change both later with Scale Up/Down.</p>
<h3>PaaS Service Manager Command Line Interface</h3>
<p>You can also create an ADWC service from the command line. I&#8217;ll show how to install and use PSM, the PaaS Service Manager Command Line Interface). Rodrigo Jorge has a nice description for DBaaS on <a href="http://www.dbarj.com.br/en/2018/02/creating-oracle-18c-database-in-oci-classic/" target="_blank">his blog</a>.</p>
<p>So, you download PSM:
<pre>
curl -X GET -u my.cloud.account@me.com:MyP@ssw0rd -H X-ID-TENANT-NAME:idcs-31bbd63c3cb9466cb8a96f627b6b6116 https://psm.us.oraclecloud.com/paas/core/api/v1.1/cli/idcs-31bbd63c3cb9466cb8a96f627b6b6116/client -o psmcli.zip

  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0
100 86945    0 86945    0     0  16806      0 --:--:--  0:00:05 --:--:-- 23820
</pre>
<a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIurl1.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CaptureOCIurl1-300x100.png" alt="CaptureOCIurl" width="300" height="100" class="alignleft size-medium wp-image-22830" /></a></p>
<p>The user:password are those you use in the account Sign-In. </p>
<p>The &#8216;Tenant Name&#8217;, you get it from the URL of this Man On Smart Phone Sign-in web page. You will see it also mentioned later as &#8216;Identity domain&#8217; (like in OCI-Classic). If you have a doubt, create the service from the web console, click on it and you will see the Tenant Name.</p>
<p><a href="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CapturePIP3.png" rel="lightbox[22807]"><img src="../wp-insides/uploads/sites/2/2018/04/CapturePIP3-300x174.png" alt="CapturePIP3" width="300" height="174" class="alignright size-medium wp-image-22835" /></a>
So, you have a zip file and do not unzip it. It is a Python 3 module and you install it with &#8216;pip3&#8242;. You can do that in any OS. </p>
<p>I have the strange idea to run my laptop on Windows with Cygwin for command line stuff. Here are the python3 packages I have here.</p>
<p>Here is the installation of PDM:
<pre>
pip3 install -U psmcli.zip

Processing ./psmcli.zip
...
</pre></p>
<p>And now the nice thing is that you will configure once your credentials with &#8216;psm setup&#8217;. You provide the user, password and tenant name (which is called &#8216;identity domain&#8217; here):
<pre>
$ psm setup

Username: my.cloud.account@me.com
Password: MyP@ssw0rd
Retype Password: MyP@ssw0rd
Identity domain: idcs-31bbd63c3cb9466cb8a96f627b6b6116
Region [us]:
Output format [short]:
Use OAuth? [n]:
----------------------------------------------------
'psm setup' was successful. Available services are:

  o ADWC : Oracle Autonomous Data Warehouse Cloud
  o ADWCP : Oracle Autonomous Data Warehouse Cloud Platform
  o ANALYTICS : Oracle Analytics Cloud
  o APICS : Oracle API Platform Cloud Service
  o APICatalog : Oracle API Catalog Service
...
</pre></p>
<p>ADWC is on the list. You are ready to manage ADWC instances, such as create one:</p>
<p><pre>
$ psm adwc create-service -c - &lt;&lt;&lt;' {
"serviceName": "ADWCx",
"adminPassword": "Ach1z00dAch1",
"numCpus": "1",
"storageCapacity": "1",
"serviceLevel": "PAAS",
"serviceVersion": "18.1.1",
"managedSystemType": "oracle",
"enableNotification": true,
"notificationEmail": "notifocations@me.com",
"isBYOL": true
} '

 Message:    Submitted job to create service [ADWCx] in domain [idcs-31bbd63c3cb9466cb8a96f627b6b6116].
 Job ID:     25509908
</pre></p>
<p>We can check the status of job
<pre>$ psm adwc activities --service-name ADWC
 Operation Type  Status   Start Time                    End Time
 CREATE_SERVICE  RUNNING  2018-04-28T19:57:31.056+0000  N/A</pre></p>
<p>And a few minutes later the service is there:
<pre>$ psm adwc activities --service-name ADWC
 Operation Type  Status   Start Time                    End Time
 CREATE_SERVICE  SUCCEED  2018-04-28T19:57:31.056+0000  2018-04-28T19:59:51.900+0000</pre></p>
<p>We will see how to connect in a future post. Very easy from SQL Developer or SQLcl.</p>
<p>You can delete the service when you don&#8217;t need it anymore:
<pre>
psm adwc delete-service --service-name ADWC
</pre></p>
<p>To save credits, you want an easy way to stop and start the service. That&#8217;s for tne next post as PSN requires a little hack there.</p>
<table class="rw-rating-table rw-ltr rw-left rw-no-labels"><tr><td><nobr>&nbsp;</nobr></td><td><div class="rw-left"><div class="rw-ui-container rw-class-blog-post rw-urid-228080" data-img="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2018/04/CaptureOCIcredits-300x175.png"></div></div></td></tr></table>							
		</div><!--/content-inner-->
<div class="comment-wrap ">

	<h3 id="comments"> 4 Comments</h3>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

	<ul class="comment-list ">
				<li class="comment even thread-even depth-1 parent" id="comment-10780">
				<div id="div-comment-10780" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/ba77413ffe0bb48d9da467d649464a6c?s=60&amp;d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />			<cite class="fn"><a href='http://www.oracle.com' rel='external nofollow' class='url'>Thomas Teske</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="index.html#comment-10780">
			May 1, 2018 at 14 h 42 min</a>		</div>

		<p>Thanks again Franck &#8211; my experience is: start with small number of CPUs and storage volume. See the volume growing since the compression depends on your data. So feed it with relevant subsets of data to estimate the real need. Since a change is done almost instantly and without service interruption: no risk to start small.</p>
<p>To our customers: we offer for a limited time a 500 USD credit for testing. This includes direct support by local sales consulting and PM team. Can be also done together with your IT partner of choice.
<table class="rw-rating-table rw-ltr rw-left rw-no-labels">
<tr>
<td><nobr>&nbsp;</nobr></td>
<td>
<div class="rw-left">
<div class="rw-ui-container rw-class-comment rw-urid-107811"></div>
</div>
</td>
</tr>
</table>

		<div class="reply"><a class='comment-reply-link' href='index.html#comment-10780' onclick='return addComment.moveForm( "div-comment-10780", "10780", "respond", "22807" )' aria-label='Reply to Thomas to Thomas Teske'>Reply to Thomas</a></div>
				</div>
		<ul class="children">
		<li class="comment byuser comment-author-franck-pachot bypostauthor odd alt depth-2" id="comment-10781">
				<div id="div-comment-10781" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/9c04a89267afa42e63eeb3d620f4b873?s=60&amp;d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />			<cite class="fn"><a href='https://www.linkedin.com/in/franckpachot' rel='external nofollow' class='url'>Franck Pachot</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="index.html#comment-10781">
			May 1, 2018 at 14 h 45 min</a>		</div>

		<p>Thanks Thomas,
I&#8217;ll just add for the readers that for the &#8220;IT partner of choice&#8221;, there&#8217;s a contact link at the top-right of the page <img src="../wp-includes/images/smilies/icon_wink.gif" alt=";)" class="wp-smiley" />
Cheers,
Franck.
<table class="rw-rating-table rw-ltr rw-left rw-no-labels">
<tr>
<td><nobr>&nbsp;</nobr></td>
<td>
<div class="rw-left">
<div class="rw-ui-container rw-class-comment rw-urid-107821"></div>
</div>
</td>
</tr>
</table>

		<div class="reply"><a class='comment-reply-link' href='index.html#comment-10781' onclick='return addComment.moveForm( "div-comment-10781", "10781", "respond", "22807" )' aria-label='Reply to Franck to Franck Pachot'>Reply to Franck</a></div>
				</div>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-10792">
				<div id="div-comment-10792" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/03baa9285f25fcbc5505902036c21ef2?s=60&amp;d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />			<cite class="fn"><a href='http://k21academy.com/blog' rel='external nofollow' class='url'>Atul Kumar</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="index.html#comment-10792">
			May 7, 2018 at 9 h 39 min</a>		</div>

		<p>Thanks, Franck, very good post. One Question is this is Autonomous Database as the title of the post suggests or Autonomous Dataware Cloud Service (ADWC)?
<table class="rw-rating-table rw-ltr rw-left rw-no-labels">
<tr>
<td><nobr>&nbsp;</nobr></td>
<td>
<div class="rw-left">
<div class="rw-ui-container rw-class-comment rw-urid-107931"></div>
</div>
</td>
</tr>
</table>

		<div class="reply"><a class='comment-reply-link' href='index.html#comment-10792' onclick='return addComment.moveForm( "div-comment-10792", "10792", "respond", "22807" )' aria-label='Reply to Atul to Atul Kumar'>Reply to Atul</a></div>
				</div>
		<ul class="children">
		<li class="comment byuser comment-author-franck-pachot bypostauthor odd alt depth-2" id="comment-10795">
				<div id="div-comment-10795" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/9c04a89267afa42e63eeb3d620f4b873?s=60&amp;d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />			<cite class="fn"><a href='https://www.linkedin.com/in/franckpachot' rel='external nofollow' class='url'>Franck Pachot</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="index.html#comment-10795">
			May 7, 2018 at 15 h 23 min</a>		</div>

		<p>Hi Atul, yes you&#8217;re right. This name is so long to type that I was sure to make a mistake one day.
I&#8217;ll fix the title.
<table class="rw-rating-table rw-ltr rw-left rw-no-labels">
<tr>
<td><nobr>&nbsp;</nobr></td>
<td>
<div class="rw-left">
<div class="rw-ui-container rw-class-comment rw-urid-107961"></div>
</div>
</td>
</tr>
</table>

		<div class="reply"><a class='comment-reply-link' href='index.html#comment-10795' onclick='return addComment.moveForm( "div-comment-10795", "10795", "respond", "22807" )' aria-label='Reply to Franck to Franck Pachot'>Reply to Franck</a></div>
				</div>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	</ul>

 

								<div id="respond" class="comment-respond">
