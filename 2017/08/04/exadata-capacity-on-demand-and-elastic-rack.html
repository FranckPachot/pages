<html><head>
<link rel=canonical href=https://blog.dbi-services.com/exadata-capacity-on-demand-and-elastic-rack />
<meta name=description content='A blog post from 2017 about Exadata Capacity on Demand and Elastic Rack'>
<title>Exadata Capacity on Demand and Elastic Rack</title>
<link rel=stylesheet href=../../../style.css media=all>   

</head><body>

<p class=aboutme>
<br/>
<table width=100%>
<tr>
<td>
<a href=https://linkedin.com/in/franckpachot>Linkedin</a>, <a href=https://twitter.com/franckpachot>Twitter</a>, <a href=https://www.youtube.com/@franckpachot/community>Youtube</a>, <a href=https://mastodon.social/@FranckPachot>Mastodon</a>, <a href=https://dev.to/franckpachot>dev.to</a>
</td><td>
<img src=https://pbs.twimg.com/profile_images/1487359683119788033/4ejaJ4S5_400x400.jpg height=100 width=100/>
</td>
</tr>
</table>
<br/>
</p>

<p class=firstpub>This was first published on <a href=https://blog.dbi-services.com/exadata-capacity-on-demand-and-elastic-rack>https://blog.dbi-services.com/exadata-capacity-on-demand-and-elastic-rack</a> (2017-08-04), republishing for new followers. The content is related to the the versions available at the publication date</p>
								<h1 class="entry-title">Exadata Capacity on Demand and Elastic Rack</h1>
		<div class="content-inner">
			
						
						
		   
			<p>Since X4 we can do Capacity on Demand on Exadata: disable some CPU cores to lower cost of Oracle Database licenses. Depending on the models, and the configuration, there are different minimums and here is a recap table about those.
<span id="more-18077"></span></p>
<p>Here is the summary ofÂ Capacity on Demand minimum, maximum and increment. Those numbers come from the configuration file of OEDA, the Oracle Exadata Deployment Assistant (es.properties) and you can see that it already has an option for Exadata X7-2</p>
<table style="height: 462px" width="887">
<tbody>
<tr>
<th style="width: 72px" width="72">Exadata model</th>
<th style="width: 72px" width="67">sockets</th>
<th style="width: 72px" width="92">cores per socket</th>
<th style="width: 72px" width="92">cores per server</th>
<th style="width: 72px" width="96">thread per core</th>
<th style="width: 72px" width="164">Capacity&nbsp;on&nbsp;Demand minimum</th>
<th style="width: 72px" width="64">Cod maximum</th>
<th style="width: 72px" width="64">CoD increment</th>
</tr>
<tr>
<td>X2-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">6</td>
<td style="text-align: right">12</td>
<td style="text-align: right">2</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>X3-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">8</td>
<td style="text-align: right">16</td>
<td style="text-align: right">2</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>X4-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">12</td>
<td style="text-align: right">24</td>
<td style="text-align: right">2</td>
<td style="text-align: right">12
(not for 1/8th)</td>
<td style="text-align: right">24</td>
<td style="text-align: right">2</td>
</tr>
<tr>
<td>X5-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">18</td>
<td style="text-align: right">36</td>
<td style="text-align: right">2</td>
<td style="text-align: right">14</td>
<td style="text-align: right">36</td>
<td style="text-align: right">2</td>
</tr>
<tr>
<td>X6-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">22</td>
<td style="text-align: right">44</td>
<td style="text-align: right">2</td>
<td style="text-align: right">14
(8 for 1/8th)</td>
<td style="text-align: right">44</td>
<td style="text-align: right">2</td>
</tr>
<tr>
<td>X7-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">24</td>
<td style="text-align: right">48</td>
<td style="text-align: right">2</td>
<td style="text-align: right">14
(8 for 1/8th)</td>
<td style="text-align: right">48</td>
<td style="text-align: right">2</td>
</tr>
<tr>
<td>X2-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">12</td>
<td style="text-align: right">2</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>X3-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">10</td>
<td style="text-align: right">80</td>
<td style="text-align: right">2</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>X4-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">15</td>
<td style="text-align: right">120</td>
<td style="text-align: right">2</td>
<td style="text-align: right">48</td>
<td style="text-align: right">120</td>
<td style="text-align: right">8</td>
</tr>
<tr>
<td>X5-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">18</td>
<td style="text-align: right">144</td>
<td style="text-align: right">2</td>
<td style="text-align: right">56</td>
<td style="text-align: right">144</td>
<td style="text-align: right">8</td>
</tr>
<tr>
<td>X6-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">18</td>
<td style="text-align: right">144</td>
<td style="text-align: right">2</td>
<td style="text-align: right">56</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>X7-8</td>
<td style="text-align: right">8</td>
<td style="text-align: right">24</td>
<td style="text-align: right">192</td>
<td style="text-align: right">2</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
<tr>
<td>SL6</td>
<td style="text-align: right">2</td>
<td style="text-align: right">32</td>
<td style="text-align: right">64</td>
<td style="text-align: right">8</td>
<td style="text-align: right">14
(8 for 1/8th)</td>
<td style="text-align: right">64</td>
<td style="text-align: right">2</td>
</tr>
<tr>
<td>T7-2</td>
<td style="text-align: right">2</td>
<td style="text-align: right">32</td>
<td style="text-align: right">62</td>
<td style="text-align: right">8</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3>Special minimums for 1/8th of Rack</h3>
<p>The smallest configuration (1/8th of Rack) is a bit special. First, because it is physically identical to the 1/4th one with just some processors and disks disabled. But also, for this entry-level, the minimum required is lower &#8211; 8 cores per node &#8211; in X6.</p>
<p>Here is the Oracle Exadata Deployment Assistant for X6-2 1/8th of Rack:</p>
<p><a href="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68002.png" rel="lightbox[18077]"><img class="alignnone size-large wp-image-18080" src="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68002.png" alt="CaptureOEDAx68002" width="887" height="594" /></a></p>
<p>When having selected 1/8th of Rack we are allowed to enable a minimum of 8 cores per nodes, as mentioned in the table above:</p>
<p><a href="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68006.png" rel="lightbox[18077]"><img class="alignnone size-large wp-image-18081" src="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68006.png" alt="CaptureOEDAx68006" width="891" height="596" /></a></p>
<h3>Elastic Rack</h3>
<p>Elastic Rack configuration allows to configure any combination of database nodes and storage cells:</p>
<p><a href="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68004.png" rel="lightbox[18077]"><img class="alignnone size-large wp-image-18079" src="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68004.png" alt="CaptureOEDAx68004" width="889" height="595" /></a></p>
<p>With Elastic Rack configuration, the next screen is not only displaying the configuration, but you can customize it.
Here I define the same configuration as an 8th of RAC:</p>
<p><a href="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68005.png" rel="lightbox[18077]"><img class="alignnone size-full wp-image-18078" src="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68005.png" alt="CaptureOEDAx68005" width="892" height="593" /></a></p>
<p>However, because it is not an 1/8th Rack configuration, the minimum is 14 cores per node and not 8:</p>
<p><a href="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68001.png" rel="lightbox[18077]"><img class="alignnone size-large wp-image-18082" src="../wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68001.png" alt="CaptureOEDAx68001" width="888" height="595" /></a></p>
<p>So be careful. Elastic configuration gives more flexibility, but CoD minimums are is different than the equivalent configuration.</p>
<h3>/opt/oracle.SupportTools/resourcecontrol</h3>
<p>As I&#8217;m talking about elastic configuration here is how the cores are enabled. The configuration assistant calls /opt/oracle.SupportTools/resourcecontrol which displays or updates the BIOS configuration.  You may wonder why you can do that here and not in your own servers? Because here Oracle can trace what happened. You will find the log in /var/log/oracleexa/systemconfig.log and here is an example where the Elastic Rack has been deployed with 16 cores per database node Capacity on Demand:</p>
<p><pre>Fri Aug 04 16:12:18 CEST 2017
Executing command: /opt/oracle.SupportTools/resourcecontrol -show
[INFO] Validated hardware and OS. Proceed.
[SHOW] Number of physical cores active per socket: 22
[SHOW] Total number of cores active: 44

Mon Aug 07 11:24:31 CEST 2017
Executing command: /opt/oracle.SupportTools/resourcecontrol -core 16 -force
[INFO] Validated hardware and OS. Proceed.
[INFO] Enabling 8 cores on each socket.
[INFO] Import all bios settings
[INFO] All bios settings have been imported with success
[ACTION] Reboot server for settings to take effect
[SHOW] Number of physical cores active per socket: 8
[SHOW] Total number of cores active: 16

Mon Aug 07 11:31:24 CEST 2017
Executing command: /opt/oracle.SupportTools/resourcecontrol -show
[INFO] Validated hardware and OS. Proceed.
[SHOW] Number of physical cores active per socket: 8
[SHOW] Total number of cores active: 16</pre></p>
<p>This does not stay on your server. There is a rule that you can do Capacity on Demand only if you have configured Platinum support, or use Oracle Configuration Manager, or Enterprise Manager. All those may store history of the CPU count, which means that it is auditable.</p>
<table class="rw-rating-table rw-ltr rw-left rw-no-labels"><tr><td><nobr>&nbsp;</nobr></td><td><div class="rw-left"><div class="rw-ui-container rw-class-blog-post rw-urid-180780" data-img="https://blog.dbi-services.com/wp-insides/uploads/sites/2/2017/08/CaptureOEDAx68002.png"></div></div></td></tr></table>							
		</div><!--/content-inner-->
<div class="comment-wrap ">

	<h3 id="comments"> One Comment</h3>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

	<ul class="comment-list ">
				<li class="comment even thread-even depth-1" id="comment-8666">
				<div id="div-comment-8666" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/2cfeb63766d373ad7f80f7d252075461?s=60&amp;d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />			<cite class="fn"><a href='http://exadata-dba.blogspot.com' rel='external nofollow' class='url'>Yury Pudovchenko</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="index.html#comment-8666">
			September 28, 2017 at 16 h 44 min</a>		</div>

		<p>Hi,</p>
<p>for 8-socket servers &#8220;cores per server&#8221; is 32.
it seems this error
<table class="rw-rating-table rw-ltr rw-left rw-no-labels">
<tr>
<td><nobr>&nbsp;</nobr></td>
<td>
<div class="rw-left">
<div class="rw-ui-container rw-class-comment rw-urid-86671"></div>
</div>
</td>
</tr>
</table>

		<div class="reply"><a class='comment-reply-link' href='index.html#comment-8666' onclick='return addComment.moveForm( "div-comment-8666", "8666", "respond", "18077" )' aria-label='Reply to Yury to Yury Pudovchenko'>Reply to Yury</a></div>
				</div>
		</li><!-- #comment-## -->
	</ul>

 

								<div id="respond" class="comment-respond">
</body></html>
